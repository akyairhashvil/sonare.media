<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>sonare.media | Storefront Sound Architecture</title>
    <meta name="title" content="sonare.media | Storefront Sound Architecture">
    <meta name="description" content="We design well-structured, fully custom music for physical retail. No subscriptions. You own the assets. Asset Sovereignty for modern commerce.">
    <meta name="keywords" content="storefront audio, retail music, custom playlist, background music for business, sound architecture, asset sovereignty, royalty free alternative">
    <meta name="author" content="sonare.media">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sonare.media/">
    <meta property="og:title" content="sonare.media | Storefront Sound Architecture">
    <meta property="og:description" content="We design well-structured, fully custom music for physical retail. No subscriptions. You own the assets. Asset Sovereignty for modern commerce.">
    <meta property="og:image" content="https://sonare.media/assets/og-image.jpg"> 

    <!-- Twitter / X -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sonare.media/">
    <meta property="twitter:title" content="sonare.media | Storefront Sound Architecture">
    <meta property="twitter:description" content="We design well-structured, fully custom music for physical retail. No subscriptions. You own the assets. Asset Sovereignty for modern commerce.">
    <meta property="twitter:image" content="https://sonare.media/assets/og-image.jpg"> 

    <style>
        :root {
            /* Palette: Studio Terminal Dark */
            --bg-core: #050505;
            --bg-panel: #0f1012;
            --bg-input: #1a1c1f;
            --fg-primary: #e0e0e0;
            --fg-secondary: #9095a0;
            --accent-cyan: #64ffda;
            --accent-dim: #234f46;
            --accent-alert: #ff6b6b;
            --border: #2d3035;
            
            /* Typography */
            --font-ui: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --font-mono: "SF Mono", "Monaco", "Andale Mono", "Lucida Console", "Courier New", monospace;
            
            /* Spacing - Condensed for Density */
            --space-sm: 0.5rem;
            --space-md: 1.5rem;
            --space-lg: 4rem;
        }

        /* 7) RESPECT USER PREFERENCES (Reduced Motion) */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
                scroll-behavior: auto !important;
            }
        }

        * { box-sizing: border-box; outline-offset: 2px; }
        
        html { scroll-behavior: smooth; }

        body {
            /* 7) VISUAL REFINEMENT: Soften stark black with extremely dark charcoal gradient */
            background: linear-gradient(180deg, #050505 0%, #0a0b0d 100%);
            color: var(--fg-primary);
            font-family: var(--font-ui);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            position: relative; /* Context for background */
            min-height: 100vh;
        }
        
        /* 5) SONIC-VISUAL SYNESTHESIA: 60 BPM Pulse Background */
        /* Fixed overlay to ensure visibility */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            /* Subtle radial pulse */
            background: radial-gradient(circle at 50% 50%, rgba(100, 255, 218, 0.03) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
            /* 60 BPM = 1 beat per second. 4s cycle = 1 bar of 4/4 time */
            animation: bgPulse 4s infinite ease-in-out;
        }

        @keyframes bgPulse {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.1); }
        }

        /* Utilities */
        h1, h2, h3, h4 { margin: 0 0 var(--space-md) 0; font-weight: 500; letter-spacing: -0.02em; }
        h1 { font-size: 3rem; line-height: 1.1; }
        h2 { font-size: 2rem; color: var(--accent-cyan); }
        p { margin-bottom: var(--space-md); color: var(--fg-secondary); max-width: 65ch; }
        .mono { font-family: var(--font-mono); font-size: 0.8rem; letter-spacing: 0.05em; text-transform: uppercase; }
        .accent { color: var(--accent-cyan); }
        .fg-sec { color: var(--fg-secondary); }
        
        /* Container Logic & 1) MOBILE VAR FIX */
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 0 var(--space-lg); 
            width: 100%; 
            position: relative;
            z-index: 1; /* Ensure content sits above pulse */
        }
        @media (max-width: 768px) {
            :root { --space-lg: 3rem; }
            .container { padding: 0 1.5rem; } 
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
        }
        
        /* 8) REDUCE INLINE STYLES - Common Classes */
        .card { 
            background: var(--bg-panel); 
            padding: 2rem; 
            border: 1px solid var(--border); 
            height: 100%; 
            transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }
        /* 3) ENHANCED HIERARCHY: Midground lift on hover */
        .card:hover {
            border-color: rgba(100, 255, 218, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.4);
        }
        
        .card-h4 { color: var(--fg-primary); font-size: 1.1rem; margin-bottom: 0.75rem; }
        .card-p { font-size: 0.9rem; margin: 0; line-height: 1.5; }
        
        /* Interactive Elements */
        button {
            cursor: pointer;
            border: 1px solid var(--accent-cyan);
            background: transparent;
            color: var(--accent-cyan);
            padding: 14px 28px;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); 
            position: relative;
            overflow: hidden;
        }
        /* 1) MICRO-INTERACTION: Signal Ripple Effect on Click */
        button:active::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            width: 100%; height: 100%;
            background: rgba(100, 255, 218, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            animation: ripple 0.4s linear;
        }
        @keyframes ripple {
            to { transform: translate(-50%, -50%) scale(4); opacity: 0; }
        }

        button:hover { background: var(--accent-dim); box-shadow: 0 0 15px rgba(100, 255, 218, 0.15); }
        button.primary { background: var(--accent-cyan); color: var(--bg-core); font-weight: 600; }
        button.primary:hover { background: #9efff0; box-shadow: 0 0 20px rgba(100, 255, 218, 0.4); }

        input[type="text"], input[type="email"], textarea, select, input[type="number"] {
            background: var(--bg-input);
            border: 1px solid var(--border);
            color: var(--fg-primary);
            padding: 14px;
            width: 100%;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            margin-bottom: 0; 
            border-radius: 0;
            -webkit-appearance: none;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        input:focus, textarea:focus, select:focus { border-color: var(--accent-cyan); outline: none; box-shadow: 0 0 0 1px rgba(100,255,218,0.2); }

        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(5, 5, 5, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            height: 70px;
            display: flex;
            align-items: center;
        }
        .nav-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .logo { font-weight: 700; font-size: 1.2rem; letter-spacing: -0.03em; color: var(--fg-primary); text-decoration: none; flex-shrink: 0; z-index: 102; }
        
        /* Desktop Nav */
        .nav-links { 
            display: flex; 
            gap: 1.5rem; 
            align-items: center; 
        }

        .nav-links a { 
            color: var(--fg-secondary); 
            text-decoration: none; 
            font-size: 0.9rem; 
            transition: color 0.2s; 
            position: relative;
            white-space: nowrap; 
            padding-bottom: 2px;
        }
        .nav-links a:hover, .nav-links a.active { color: var(--accent-cyan); }
        
        /* 1) MICRO-INTERACTION: Signal Lock (Underline Snap) */
        .nav-links a::after {
            content: ''; 
            position: absolute; 
            bottom: -4px; 
            left: 0; 
            width: 0%; /* Start hidden */
            height: 1px; 
            background: var(--accent-cyan);
            transition: width 0.3s cubic-bezier(0.22, 1, 0.36, 1); /* Scanline effect */
            box-shadow: 0 0 4px var(--accent-cyan);
        }
        .nav-links a:hover::after, .nav-links a.active::after {
            width: 100%; /* Snap to full width */
        }
        
        .cta-small { border: 1px solid var(--border); padding: 6px 16px; border-radius: 4px; color: var(--accent-cyan) !important; }
        .cta-small.active::after { display: none; }

        /* MOBILE MENU (Sandwich Style) */
        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 102;
            padding: 0;
            width: 30px;
            height: 20px;
            position: relative;
        }
        .mobile-toggle span {
            display: block;
            width: 100%;
            height: 2px;
            background-color: var(--accent-cyan);
            position: absolute;
            transition: all 0.3s ease;
        }
        .mobile-toggle span:nth-child(1) { top: 0; }
        .mobile-toggle span:nth-child(2) { top: 9px; }
        .mobile-toggle span:nth-child(3) { top: 18px; }
        
        /* Hamburger Animation */
        .mobile-toggle.open span:nth-child(1) { top: 9px; transform: rotate(45deg); }
        .mobile-toggle.open span:nth-child(2) { opacity: 0; }
        .mobile-toggle.open span:nth-child(3) { top: 9px; transform: rotate(-45deg); }

        /* Mobile Menu Overlay */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--bg-core);
            z-index: 101;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .mobile-menu-overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            text-align: center;
        }
        .mobile-menu-links a {
            font-size: 1.5rem;
            color: var(--fg-primary);
            text-decoration: none;
            font-family: var(--font-mono);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
        }
        .mobile-menu-overlay.active .mobile-menu-links a {
            opacity: 1;
            transform: translateY(0);
        }
        /* Staggered animation delays */
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(1) { transition-delay: 0.1s; }
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(2) { transition-delay: 0.15s; }
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(3) { transition-delay: 0.2s; }
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(4) { transition-delay: 0.25s; }
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(5) { transition-delay: 0.3s; }
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(6) { transition-delay: 0.35s; }
        .mobile-menu-overlay.active .mobile-menu-links a:nth-child(7) { transition-delay: 0.4s; }


        @media (max-width: 768px) {
            .nav-links { display: none; } /* Hide desktop nav */
            .mobile-toggle { display: block; } /* Show hamburger */
        }

        /* Sections */
        section { 
            min-height: auto; 
            padding: 6rem 0;
            border-bottom: 1px solid var(--border);
            scroll-margin-top: 70px;
        }
        @media (max-width: 768px) { section { padding: 4rem 0; } }
        
        /* Hero */
        #hero {
            min-height: calc(100vh - 70px);
            display: flex;
            align-items: center;
            padding: 0;
        }
        @media (max-width: 768px) { 
            #hero { min-height: auto; padding: 4rem 0; } 
        }
        
        /* 2) PROGRESSIVE REVEAL: Animated Stats */
        @keyframes telemetrySlide {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .hero-stat { 
            border-left: 2px solid var(--accent-dim); 
            padding-left: var(--space-md); 
            margin-bottom: var(--space-md); 
            opacity: 0; /* Initial state for animation */
            animation: telemetrySlide 0.6s ease-out forwards;
        }
        .hero-stat:nth-child(1) { animation-delay: 0.2s; }
        .hero-stat:nth-child(2) { animation-delay: 0.4s; }
        .hero-stat:nth-child(3) { animation-delay: 0.6s; }
        
        .hero-grid { display: grid; grid-template-columns: 1fr; gap: var(--space-lg); align-items: center; }
        @media(min-width: 768px) { .hero-grid { grid-template-columns: 2fr 1fr; } }

        /* FAQ Grid */
        .grid-2 { display: grid; grid-template-columns: 1fr; gap: var(--space-lg); }
        @media(min-width: 768px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
        .grid-4 { display: grid; grid-template-columns: 1fr; gap: var(--space-md); }
        @media(min-width: 768px) { .grid-4 { grid-template-columns: repeat(4, 1fr); } }
        
        /* Architecture / Day Arc */
        .graph-controls { display: flex; gap: 10px; margin-bottom: 1rem; overflow-x: auto; padding-bottom: 5px; }
        
        /* 2) ACCESSIBILITY: BUTTON TOGGLES */
        .toggle-pill { 
            font-size: 0.75rem; border: 1px solid var(--border); padding: 4px 12px; 
            border-radius: 12px; color: var(--fg-secondary); background: transparent; cursor: pointer; user-select: none; white-space: nowrap;
            transition: all 0.2s; font-family: var(--font-ui);
        }
        .toggle-pill:hover, .toggle-pill:focus { border-color: var(--accent-cyan); outline: none; }
        .toggle-pill.active { background: var(--accent-dim); color: var(--accent-cyan); border-color: var(--accent-cyan); }
        .toggle-pill[aria-pressed="true"] { background: var(--accent-dim); color: var(--accent-cyan); border-color: var(--accent-cyan); }

        .daw-visual {
            background: var(--bg-panel);
            border: 1px solid var(--border);
            padding: 2rem 2rem 2rem 4rem; 
            position: relative;
            overflow: hidden;
            /* 1) MICRO-INTERACTION: Scanline Overlay for Tech Vibe */
            background-image: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
        }
        @media (max-width: 600px) {
            .daw-visual { padding: 1.5rem 1rem 1.5rem 2.5rem; } 
        }
        .y-axis-label {
            position: absolute; left: 1rem; top: 50%; 
            transform: translateY(-50%) rotate(-90deg);
            transform-origin: center;
            color: var(--fg-secondary); font-family: var(--font-mono); font-size: 10px; white-space: nowrap;
            transition: opacity 0.3s;
        }
        @media (max-width: 600px) {
            .y-axis-label { left: 0.25rem; font-size: 9px; }
        }
        .axis-label { fill: var(--fg-secondary); font-family: var(--font-mono); font-size: 11px; }
        
        /* 1) MICRO-INTERACTION: Wipe Transition for Graph Layers */
        .graph-layer { transition: opacity 0.3s ease, transform 0.4s cubic-bezier(0.22, 1, 0.36, 1); }
        .graph-hidden { opacity: 0; pointer-events: none; transform: scaleY(0.95); /* Subtle collapse effect */ }
        
        .beacon-marker { fill: var(--bg-core); stroke: var(--accent-cyan); stroke-width: 2; cursor: help; transition: r 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        /* 5) SONIC-VISUAL: Pulse on Hover for Beacons */
        .beacon-marker:hover { r: 8; fill: var(--accent-cyan); stroke-width: 4; stroke-opacity: 0.5; }
        
        .beacon-line { stroke: var(--accent-cyan); stroke-width: 1; stroke-dasharray: 2,4; opacity: 0.5; }

        .legend-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem; font-size: 0.85rem; color: var(--fg-secondary); }
        @media (max-width: 600px) { .legend-grid { grid-template-columns: 1fr; } }
        .legend-item strong { color: var(--accent-cyan); display: block; margin-bottom: 2px; }

        /* Palette Questionnaire */
        .quiz-step { display: none; }
        .quiz-step.active { display: block; animation: fadeIn 0.4s ease; }
        .option-grid { display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 2rem; }
        .option-btn {
            flex: 1 1 30%; 
            border: 1px solid var(--border);
            padding: 20px;
            text-align: center;
            background: var(--bg-input);
            color: var(--fg-secondary);
            font-size: 0.95rem;
            transition: all 0.2s ease; /* 2) FOCUS SHARPEN transition */
        }
        @media (max-width: 600px) { .option-btn { flex: 1 1 100%; padding: 16px; } }
        
        /* 2) PROGRESSIVE REVEAL: Focus Sharpen - De-emphasize siblings on hover */
        .option-grid:hover .option-btn:not(:hover) {
            opacity: 0.5;
            filter: blur(0.5px);
        }
        .option-btn:hover { 
            border-color: var(--accent-cyan); 
            color: var(--fg-primary); 
            transform: scale(1.02); 
            z-index: 1;
            opacity: 1 !important;
            filter: none !important;
        }
        .option-btn.selected { 
            background: var(--accent-dim); 
            border-color: var(--accent-cyan); 
            color: var(--accent-cyan); 
            box-shadow: 0 0 0 1px var(--accent-cyan); /* Crisp outline */
            transform: scale(1.02);
            z-index: 2;
        }
        
        .result-card { border: 1px solid var(--accent-cyan); background: rgba(100, 255, 218, 0.05); padding: 2.5rem; }
        @media (max-width: 600px) { .result-card { padding: 1.5rem; } }

        /* --- PREVIEW KIT CARDS (Refined) --- */
        .preview-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; margin-top: 1.5rem; }
        @media(min-width: 768px) { .preview-grid { grid-template-columns: repeat(4, 1fr); } }
        
        .preview-card {
            border: 1px solid var(--border);
            background: var(--bg-panel);
            padding: 1.25rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: border-color 0.2s;
            overflow: hidden; /* Ensure scans stay inside */
            position: relative;
        }
        .preview-card:hover { border-color: var(--accent-cyan); }

        /* 5) SONIC-VISUAL: Wave Skeleton Scan Animation */
        @keyframes waveScan {
            0% { background-position: -100px 0; }
            100% { background-position: 200px 0; }
        }

        .wave-skeleton {
            margin: 0.75rem 0 1rem;
            height: 48px;
            width: 100%;
            border: 1px solid var(--border);
            /* Base pattern */
            background-image: repeating-linear-gradient(
                90deg,
                rgba(100, 255, 218, 0.1),
                rgba(100, 255, 218, 0.1) 2px,
                transparent 2px,
                transparent 6px
            );
            opacity: 0.6;
            position: relative;
        }
        
        /* Add a "scan head" overlay on hover */
        .preview-card:hover .wave-skeleton::after {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.2), transparent);
            animation: waveScan 1.5s infinite linear;
        }

        .audio-btn {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--fg-primary);
            font-family: var(--font-mono);
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            cursor: pointer;
            display: flex; justify-content: space-between; align-items: center;
        }
        .audio-btn:hover { border-color: var(--accent-cyan); color: var(--accent-cyan); background: rgba(100, 255, 218, 0.05); }
        /* 9) PLACEHOLDER HONESTY: Controls Disabled */
        .audio-btn:disabled { opacity: 0.5; cursor: not-allowed; border-color: var(--border); color: var(--fg-secondary); }
        .audio-btn:disabled:hover { background: transparent; box-shadow: none; color: var(--fg-secondary); border-color: var(--border); }

        /* --- PRICING ARCHITECTURE (Normalized) --- */
        .pricing-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-top: 3rem;
        }
        @media(min-width: 800px) {
            .pricing-layout {
                grid-template-columns: 0.9fr 1.1fr; 
                gap: 3rem;
                align-items: start;
            }
        }

        /* FLEX COLUMN for Left Side - Controls vertical rhythm */
        .pricing-column-left {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        @media (max-width: 800px) {
            .pricing-column-left {
                gap: 1rem; /* Tighter gap on mobile */
            }
        }

        .pricing-panel {
            background: var(--bg-panel);
            border: 1px solid var(--border);
            padding: 0;
            display: flex;
            flex-direction: column;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        /* 7) VISUAL REFINEMENT: Calculator Active Glow */
        .pricing-panel:hover {
            border-color: rgba(100, 255, 218, 0.2);
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
        }
        
        /* -- UNIFIED BOX PADDING -- */
        .panel-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            font-family: var(--font-mono);
            font-size: 0.85rem;
            color: var(--accent-cyan);
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        @media (max-width: 600px) { .panel-header { padding: 1.25rem; } }

        .pricing-row { 
            display: flex; 
            align-items: center; 
            padding: 1rem 1.5rem; 
            border-bottom: 1px solid var(--border); 
            font-size: 0.95rem;
        }
        .pricing-row:last-child { border-bottom: none; }
        
        /* Mobile Pricing Stack Logic */
        @media (max-width: 600px) {
            .pricing-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.25rem;
                padding: 0.75rem 1.25rem; /* Consistent side padding */
            }
            .pricing-leader { display: none; } 
            .pricing-col-2 { align-self: flex-start; color: var(--accent-cyan); }
        }

        .pricing-col-1 { color: var(--fg-secondary); white-space: nowrap; }
        @media (max-width: 600px) { .pricing-col-1 { white-space: normal; } }

        .pricing-leader {
            flex-grow: 1;
            border-bottom: 1px dotted var(--border);
            margin: 0 1rem;
            opacity: 0.4;
            transform: translateY(4px);
        }
        .pricing-col-2 { font-family: var(--font-mono); color: var(--fg-primary); white-space: nowrap; }

        /* --- CAPITAL EFFICIENCY (Homogenized) --- */
        .efficiency-box {
            padding: 1.5rem; /* Matches Header/Body padding */
            border: 1px dashed var(--border); 
            background: rgba(100,255,218,0.01);
        }
        @media (max-width: 600px) { .efficiency-box { padding: 1.25rem; } }

        .efficiency-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
            flex-wrap: wrap; 
            gap: 0.5rem;
        }
        
        /* STRICT MOBILE STACKING */
        @media (max-width: 600px) { 
            .efficiency-row {
                display: block; 
                margin-bottom: 1rem;
            }
            .efficiency-row > span {
                display: block; 
                word-break: break-word; /* Prevent overflow */
            }
            .efficiency-row > span:first-child {
                margin-bottom: 0.25rem;
                color: var(--fg-secondary);
                font-size: 0.85rem;
            }
            .efficiency-row > span:last-child {
                font-size: 0.9rem;
            }
        }

        /* Calculator Body Padding - Perfectly matched */
        .calculator-body { padding: 1.5rem; }
        @media (max-width: 600px) { .calculator-body { padding: 1.25rem; } }
        
        /* Range Slider & Inputs */
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; margin: 10px 0; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 18px; width: 18px; border-radius: 50%; background: var(--accent-cyan); cursor: pointer; margin-top: -7px; transition: transform 0.1s ease; }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); } /* 1) Micro-interaction: Thumb scale */
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: var(--border); }
        
        .check-group { display: flex; align-items: flex-start; gap: 16px; cursor: pointer; user-select: none; }
        .check-box { width: 20px; height: 20px; border: 1px solid var(--fg-secondary); display: inline-block; position: relative; flex-shrink: 0; transition: all 0.2s; margin-top: 2px; }
        .check-group input { display: none; }
        .check-group input:checked + .check-box { background: var(--accent-cyan); border-color: var(--accent-cyan); }

        /* CONTACT FORM UNIFICATION */
        #contact-form {
            display: flex;
            flex-direction: column;
            gap: 1.25rem; /* The Universal Gap */
        }
        
        /* 4) MOBILE: Sticky Context Pill for Quiz */
        #quiz-mobile-nav {
            display: none;
            position: fixed;
            top: 70px; /* Below main nav */
            left: 0;
            width: 100%;
            background: rgba(15, 16, 18, 0.95);
            border-bottom: 1px solid var(--border);
            padding: 0.5rem 1.5rem;
            z-index: 90;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            color: var(--fg-secondary);
            backdrop-filter: blur(10px);
        }
        @media (max-width: 600px) {
             /* Show only when quiz section is active (handled in JS) */
            .quiz-active #quiz-mobile-nav { display: flex; }
        }

        /* Footer Mobile */
        footer .container {
            padding: 4rem 0;
            display: flex;
            justify-content: space-between;
            border-top: 1px solid var(--border);
            flex-wrap: wrap; 
            gap: 1rem;
        }
        @media (max-width: 600px) {
            footer .container { padding: 2rem 1.5rem; flex-direction: column; align-items: center; text-align: center; }
        }
        
        /* 6) STATUS LINE (Bottom Right) */
        #global-status {
            position: fixed;
            bottom: 1rem;
            right: 1.5rem;
            font-family: var(--font-mono);
            font-size: 0.7rem;
            color: var(--fg-secondary);
            opacity: 0.6;
            pointer-events: none;
            z-index: 50;
            text-align: right;
            transition: opacity 0.3s;
            background: rgba(0,0,0,0.5);
            padding: 2px 6px;
            border-radius: 4px;
        }
        @media (max-width: 768px) { #global-status { display: none; } } /* Hide on mobile to save space */

        /* --- COMPLIANCE / LEGAL OVERLAYS --- */
        
        /* Cookie Banner */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--bg-panel);
            border-top: 1px solid var(--accent-cyan);
            padding: 1.5rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.8);
            transform: translateY(100%);
            transition: transform 0.4s ease-out;
        }
        .cookie-banner.active { transform: translateY(0); }
        
        .cookie-content { flex: 1; max-width: 800px; font-size: 0.85rem; color: var(--fg-secondary); }
        .cookie-actions { display: flex; gap: 1rem; }

        /* Legal Modal Overlay */
        .legal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5,5,5,0.95);
            backdrop-filter: blur(8px);
            z-index: 2000;
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .legal-overlay.open { display: flex; opacity: 1; }

        .legal-modal {
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            background: var(--bg-panel);
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        .legal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .legal-body {
            padding: 2rem;
            overflow-y: auto;
            font-size: 0.9rem;
            color: var(--fg-secondary);
            font-family: var(--font-mono);
            line-height: 1.7;
        }
        .legal-body h3 { color: var(--accent-cyan); margin-top: 2rem; font-size: 1rem; text-transform: uppercase; }
        .legal-body h3:first-child { margin-top: 0; }
        .legal-body ul { padding-left: 1.5rem; }
        
        .close-btn { 
            background: none; border: none; color: var(--fg-secondary); font-size: 1.5rem; cursor: pointer; padding: 0; 
        }
        .close-btn:hover { color: var(--accent-alert); }

        .legal-link { cursor: pointer; color: var(--fg-secondary); transition: color 0.2s; }
        .legal-link:hover { color: var(--accent-cyan); text-decoration: underline; }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Utility */
        .hidden { display: none; }
        .warning-box { border-left: 3px solid var(--accent-alert); background: rgba(255, 107, 107, 0.05); padding: 1.5rem; font-size: 0.9rem; margin-top: 2rem; }

    </style>
</head>
<body id="body">

    <!-- 4) MOBILE: Sticky Quiz Nav -->
    <div id="quiz-mobile-nav">
        <span class="mono">CONFIGURATOR</span>
        <span class="mono" id="quiz-progress">STEP 01/04</span>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="container nav-content">
            <a href="#" class="logo">sonare<span class="accent">.media</span></a>
            
            <!-- Desktop Nav -->
            <div class="nav-links">
                <a href="#faq">FAQ</a>
                <a href="#infrastructure">Infrastructure</a>
                <a href="#architecture">Architecture</a>
                <a href="#selection">Selection</a>
                <a href="#testimonials">Testimonials</a>
                <a href="#pricing">Pricing</a>
                <a href="#contact" class="cta-small">Book Audit</a>
            </div>

            <!-- Hamburger Button -->
            <button class="mobile-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobile-menu">
        <div class="mobile-menu-links">
            <a href="#faq" onclick="toggleMobileMenu()">FAQ</a>
            <a href="#infrastructure" onclick="toggleMobileMenu()">Infrastructure</a>
            <a href="#architecture" onclick="toggleMobileMenu()">Architecture</a>
            <a href="#selection" onclick="toggleMobileMenu()">Selection</a>
            <a href="#testimonials" onclick="toggleMobileMenu()">Testimonials</a>
            <a href="#pricing" onclick="toggleMobileMenu()">Pricing</a>
            <a href="#contact" onclick="toggleMobileMenu()" style="color:var(--accent-cyan);">Book Audit</a>
        </div>
    </div>

    <!-- Hero -->
    <section id="hero">
        <div class="container hero-grid">
            <div>
                <p class="mono accent">Storefront Audio Engineering</p>
                <h1>Architectural Sound<br>for Physical Retail.</h1>
                <!-- UPDATED SUBTITLE -->
                <p style="font-size: 1.1rem; max-width: 50ch;">Custom musical implementations.<br>Engineered to match customer cadence.<br>Keep spaces alive without wearing out staff.<br>No subscriptions, you <b>own</b> the media.</p>
                <div style="display: flex; gap: 1rem; margin-top: var(--space-lg); flex-wrap: wrap;">
                    <button class="primary" onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})">Start Project</button>
                    <button onclick="document.getElementById('architecture').scrollIntoView({behavior: 'smooth'})">See the Logic</button>
                </div>
            </div>
            <div style="display: flex; flex-direction: column; justify-content: center;">
                <!-- 2) PROGRESSIVE REVEAL: Animated Stats -->
                <div class="hero-stat">
                    <div class="mono">Delivery</div>
                    <div>Download / Physical Media</div>
                </div>
                <div class="hero-stat">
                    <div class="mono">Model</div>
                    <div>One-time Fee<br>(Base Fee + Per Hour + Scale)</div>
                </div>
                <div class="hero-stat">
                    <div class="mono">Verification</div>
                    <div>Setup validation<br>(Playback Structure Confirmation)</div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
        <div class="container">
            <h2 class="mono">Frequently Asked Questions</h2>
            <p>Direct answers for operational concerns and common queries.</p>
            <div class="grid-4" style="margin-top: 3rem;">
                <div class="card">
                    <h4 class="card-h4">What makes us different from the competition?</h4>
                    <p class="card-p">They stream algorithmic playlists you rent monthly. We engineer a custom Day-Arc, deliver owned assets, and embed staff-fatigue protocols at the composition level.</p>
                </div>
                <div class="card">
                    <h4 class="card-h4">Will this fatigue my customers and staff?</h4>
                    <p class="card-p">Generic playlists cause long-exposure fatigue. Day Arc caps lyrical density at 30%, schedules instrumental recovery phases, and engineers cognitive reset transitions.</p>
                </div>
                <div class="card">
                    <h4 class="card-h4">What hardware solutions do I need?</h4>
                    <p class="card-p">Closed ecosystems create vendor lock-in. We serialize files for universal endpoints, delivering optimized builds for local playback environments and legacy hardware.</p>
                </div>
                <div class="card">
                    <h4 class="card-h4">Purchase to deployment timeline?</h4>
                    <p class="card-p">Turnkey solutions rush algorithmic curation poorly. We execute audit, mapping, composition, and verification in 14-21 days flat. We also offer expedited deployments.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Infrastructure / Hardware -->
    <section id="infrastructure">
        <div class="container">
            <h2 class="mono">Composition Infrastructure</h2>
            <p>Our music development stack, quality control protocols, and translation workflow from brand input to sonic architecture.</p>
            
            <div class="grid-4" style="margin-top: 3rem;">
                <div class="card" style="border-top: 2px solid var(--accent-cyan);">
                    <div class="mono" style="margin-bottom: 0.5rem; color: var(--accent-cyan);">PHASE 01</div>
                    <h4 class="card-h4">Auditory Audit & Day-Arc Mapping</h4>
                    <p class="card-p">Capture brand DNA, customer cadence, peak traffic metrics.<br><span style="color:var(--fg-secondary)">Map cognitive load: lyrical density caps, recovery phases, genre distribution, beacon placement.</span></p>
                </div>
                <div class="card" style="border-top: 2px solid var(--fg-secondary);">
                    <div class="mono" style="margin-bottom: 0.5rem; color: var(--fg-secondary);">PHASE 02</div>
                    <h4 class="card-h4">Palette Calibration & Beacon Design</h4>
                    <p class="card-p">Translate company values. Co-design Brand Beacons (2-4 per hour).<br><span style="color:var(--fg-secondary)">Set genre variety, instrumental ratios, vocal thresholds.</span></p>
                </div>
                <div class="card" style="border-top: 2px solid var(--accent-dim);">
                    <div class="mono" style="margin-bottom: 0.5rem; color: var(--accent-dim);">PHASE 03</div>
                    <h4 class="card-h4">Hourly Composition & Fatigue Testing</h4>
                    <p class="card-p">Engineer each hour as discrete module.<br><span style="color:var(--fg-secondary)">Run internal quality and integration tests. Validate acoustic compliance via client review.</span></p>
                </div>
                <div class="card" style="border: 1px dashed var(--border); background: transparent;">
                    <div class="mono" style="margin-bottom: 0.5rem; opacity: 0.5;">PHASE 04</div>
                    <h4 class="card-h4" style="opacity: 0.8;">Signal Verification & Deployment</h4>
                    <p class="card-p" style="opacity: 0.8;">Client review of full Day-Arc playback.<br><span style="color:var(--fg-secondary)">Improve beacon timing and provide traffic aware adjustments. Finalize and deliver.</span></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture / Day Arc -->
    <section id="architecture">
        <div class="container">
            <h2 class="mono">The Day Arc Architecture</h2>
            <p>Static playlists fail because energy fluctuates. We design a dynamic arc.</p>
            
            <div class="graph-controls">
                <!-- 2) ACCESSIBILITY: Button toggles with aria-pressed -->
                <button type="button" class="toggle-pill active" onclick="switchGraph('energy')" aria-pressed="true" id="btn-graph-energy">Energy</button>
                <button type="button" class="toggle-pill" onclick="switchGraph('vocals')" aria-pressed="false" id="btn-graph-vocals">Vocals</button>
                <button type="button" class="toggle-pill" onclick="switchGraph('beacons')" aria-pressed="false" id="btn-graph-beacons">Brand Beacons</button>
            </div>

            <div class="daw-visual">
                <div class="y-axis-label" id="y-axis-label">ENERGY / INTENSITY</div>
                <svg viewBox="0 0 800 250" width="100%" height="100%" preserveAspectRatio="none">
                    <!-- Grid Lines -->
                    <line x1="0" y1="200" x2="800" y2="200" stroke="#2d3035" stroke-width="1" />
                    <line x1="0" y1="50" x2="800" y2="50" stroke="#2d3035" stroke-width="1" stroke-dasharray="5,5" />
                    
                    <!-- Axis Labels -->
                    <text x="10" y="220" class="axis-label">OPEN</text>
                    <text x="250" y="220" class="axis-label">RUSH</text>
                    <text x="500" y="220" class="axis-label">AFTERNOON</text>
                    <text x="750" y="220" class="axis-label">CLOSE</text>

                    <!-- VIEW 1: ENERGY (Default) -->
                    <g id="view-energy" class="graph-layer">
                        <path d="M0,180 C100,180 150,100 250,80 C350,60 450,140 550,150 C650,160 700,200 800,210" 
                              fill="none" stroke="#64ffda" stroke-width="3" />
                        <path d="M0,180 C100,180 150,100 250,80 C350,60 450,140 550,150 C650,160 700,200 800,210 L800,250 L0,250 Z" 
                              fill="url(#grad1)" opacity="0.2" />
                    </g>

                    <!-- VIEW 2: VOCALS (Fatigue Control) -->
                    <g id="view-vocals" class="graph-layer graph-hidden">
                        <path d="M0,220 C100,220 200,120 250,100 C300,80 400,180 550,200 C650,210 750,230 800,230" 
                              fill="none" stroke="#e0e0e0" stroke-width="2" stroke-dasharray="5,5" />
                        <text x="250" y="90" fill="#e0e0e0" font-size="10" font-family="monospace">LYRICAL PEAK</text>
                        <text x="550" y="190" fill="#e0e0e0" font-size="10" font-family="monospace">INSTRUMENTAL RECOVERY</text>
                    </g>

                    <!-- VIEW 3: BEACONS (Identity Events - 30% Density) -->
                    <g id="view-beacons" class="graph-layer graph-hidden">
                        <line x1="100" y1="50" x2="100" y2="250" class="beacon-line" />
                        <line x1="200" y1="50" x2="200" y2="250" class="beacon-line" />
                        <line x1="300" y1="50" x2="300" y2="250" class="beacon-line" />
                        <line x1="400" y1="50" x2="400" y2="250" class="beacon-line" />
                        <line x1="500" y1="50" x2="500" y2="250" class="beacon-line" />
                        <line x1="600" y1="50" x2="600" y2="250" class="beacon-line" />
                        <line x1="700" y1="50" x2="700" y2="250" class="beacon-line" />
                        
                        <circle cx="100" cy="180" r="4" class="beacon-marker" />
                        <circle cx="200" cy="115" r="6" class="beacon-marker"><title>Transition Beacon</title></circle>
                        <circle cx="300" cy="70" r="4" class="beacon-marker" />
                        <circle cx="400" cy="100" r="4" class="beacon-marker" />
                        <circle cx="500" cy="145" r="6" class="beacon-marker"><title>Reset Beacon</title></circle>
                        <circle cx="600" cy="155" r="4" class="beacon-marker" />
                        <circle cx="700" cy="200" r="6" class="beacon-marker"><title>Closing Beacon</title></circle>
                        
                        <text x="400" y="235" text-anchor="middle" fill="#64ffda" font-size="10" font-family="monospace" letter-spacing="2">30% IDENTITY DENSITY</text>
                    </g>

                    <defs>
                        <linearGradient id="grad1" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:var(--accent-cyan);stop-opacity:1" />
                            <stop offset="100%" style="stop-color:var(--bg-core);stop-opacity:0" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            
            <div class="legend-grid" id="legend-container">
                <div class="legend-item">
                    <strong>Peak / Rush</strong>
                    Higher tempo + brighter instrumentation to match footfall.
                </div>
                <div class="legend-item">
                    <strong>Off-Peak / Afternoon</strong>
                    Lower vocal density + softer transients for staff recovery.
                </div>
            </div>

            <div class="warning-box">
                <strong>Fatigue Doctrine & Acoustic Safety:</strong><br>
                Staff are long-exposure listeners. We strictly cap branded/lyrical density at ~30% and place Brand Beacons at transitions to prevent cognitive fatigue. We refuse requests for "all-promotional" environments.
            </div>
        </div>
    </section>

    <!-- Palette Questionnaire -->
    <section id="selection">
        <div class="container">
            <h2 class="mono">Select Your Store Sound</h2>
            <p>You pick the style. We translate it into a listener-friendly palette.</p>

            <div id="quiz-container" style="max-width: 900px; margin-top: 3rem;">
                <!-- Q1 -->
                <div class="quiz-step active" id="q1">
                    <p class="mono">01 // VIBE</p>
                    <h3>How should the space feel?</h3>
                    <div class="option-grid">
                        <button class="option-btn" onclick="selectOption(event, 'vibe', 'Calm')">Calm / Focus</button>
                        <button class="option-btn" onclick="selectOption(event, 'vibe', 'Warm')">Warm / Cozy</button>
                        <button class="option-btn" onclick="selectOption(event, 'vibe', 'Modern')">Modern / Sleek</button>
                        <button class="option-btn" onclick="selectOption(event, 'vibe', 'Upbeat')">Upbeat / Social</button>
                        <button class="option-btn" onclick="selectOption(event, 'vibe', 'Premium')">Premium / Elevated</button>
                        <button class="option-btn" onclick="selectOption(event, 'vibe', 'Playful')">Playful / Bright</button>
                    </div>
                </div>

                <!-- Q2 -->
                <div class="quiz-step" id="q2">
                    <p class="mono">02 // ENERGY</p>
                    <h3>Peak hour intensity?</h3>
                    <div class="option-grid">
                        <button class="option-btn" onclick="selectOption(event, 'energy', 'Soft')">Soft (Background)</button>
                        <button class="option-btn" onclick="selectOption(event, 'energy', 'Medium')">Medium (Conversational)</button>
                        <button class="option-btn" onclick="selectOption(event, 'energy', 'High')">High (Driving)</button>
                    </div>
                </div>

                <!-- Q3 -->
                <div class="quiz-step" id="q3">
                    <p class="mono">03 // TEXTURE</p>
                    <h3>Instrumentation preference?</h3>
                    <div class="option-grid">
                        <button class="option-btn" onclick="selectOption(event, 'texture', 'Organic')">Organic (Acoustic/Live)</button>
                        <button class="option-btn" onclick="selectOption(event, 'texture', 'Electronic')">Electronic (Synth/Clean)</button>
                        <button class="option-btn" onclick="selectOption(event, 'texture', 'Mixed')">Mixed Balance</button>
                    </div>
                </div>

                <!-- Q4 -->
                <div class="quiz-step" id="q4">
                    <p class="mono">04 // VOCALS</p>
                    <h3>Lyrical density?</h3>
                    <div class="option-grid">
                        <button class="option-btn" onclick="selectOption(event, 'vocals', 'Instrumental Only')">Instrumental Only</button>
                        <button class="option-btn" onclick="selectOption(event, 'vocals', 'Light')">Light Vocals (~15%)</button>
                        <button class="option-btn" onclick="selectOption(event, 'vocals', 'Standard')">Standard Mix (~30%)</button>
                    </div>
                </div>

                <!-- Result -->
                <div class="quiz-step" id="q-result">
                    <div class="result-card card">
                        <h3 class="accent">Your Sound Direction: <span id="res-name">Generating...</span></h3>
                        <p id="res-desc">Analysis of your inputs...</p>
                        
                        <div class="mono" style="margin-top: 2rem; margin-bottom: 0.5rem; color:var(--fg-secondary);">Generated Preview Kit:</div>
                        
                        <!-- New Preview Grid Container -->
                        <div id="res-preview-grid" class="preview-grid">
                            <!-- Injected via JS -->
                        </div>
                        
                        <p class="mono" style="margin-top: 1.5rem; font-size: 0.75rem; color: var(--accent-cyan);">
                            > All kits include Brand Beacons at transitions to reset staff attention.
                        </p>
                        
                        <div style="margin-top: 2rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                             <button class="primary" onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})">Book Audit with this Kit</button>
                             <button onclick="resetQuiz()">Restart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Signal Verification (Testimonials) -->
    <section id="testimonials">
        <div class="container">
            <h2 class="mono">Testimonials</h2>
            <p>Operational feedback from deployed environments.</p>
            
            <div class="grid-2" style="margin-top: 3rem; gap: 1.5rem;">
                <div class="card" style="background: rgba(255,255,255,0.02);">
                    <p style="font-family: var(--font-mono); font-size: 0.85rem; margin-bottom: 1rem; color: var(--accent-cyan);">
                        > INCOMING TRANSMISSION<br>
                        > SOURCE: [COHORT_SELECTION]
                    </p>
                    <p>"The sonare.media architecture is seeking inaugural deployment sites. We are extending a subsidized base rate to a select cohort of early adopters in exchange for operational telemetry."</p>
                    <div class="mono" style="font-size: 0.75rem; margin-top: 1rem; opacity: 0.6;"> STRATEGIC OPERATIONS, [QSD]</div>
                </div>
                
                <div class="card" style="background: rgba(255,255,255,0.02);">
                    <p style="font-family: var(--font-mono); font-size: 0.85rem; margin-bottom: 1rem; color: var(--accent-cyan);">
                        > INCOMING TRANSMISSION<br>
                        > SOURCE: [COHORT_SELECTION]
                    </p>
                    <p>"The sonare.media architecture is seeking inaugural deployment sites. We are extending a subsidized base rate to a select cohort of early adopters in exchange for operational telemetry."</p>
                    <div class="mono" style="font-size: 0.75rem; margin-top: 1rem; opacity: 0.6;"> STRATEGIC OPERATIONS, [QSD]</div>
                </div>

                <div class="card" style="background: rgba(255,255,255,0.02);">
                    <p style="font-family: var(--font-mono); font-size: 0.85rem; margin-bottom: 1rem; color: var(--accent-cyan);">
                        > INCOMING TRANSMISSION<br>
                        > SOURCE: [COHORT_SELECTION]
                    </p>
                    <p>"The sonare.media architecture is seeking inaugural deployment sites. We are extending a subsidized base rate to a select cohort of early adopters in exchange for operational telemetry."</p>
                    <div class="mono" style="font-size: 0.75rem; margin-top: 1rem; opacity: 0.6;"> STRATEGIC OPERATIONS, [QSD]</div>
                </div>

                <div class="card" style="background: rgba(255,255,255,0.02);">
                    <p style="font-family: var(--font-mono); font-size: 0.85rem; margin-bottom: 1rem; color: var(--accent-cyan);">
                        > INCOMING TRANSMISSION<br>
                        > SOURCE: [COHORT_SELECTION]
                    </p>
                    <p>"The sonare.media architecture is seeking inaugural deployment sites. We are extending a subsidized base rate to a select cohort of early adopters in exchange for operational telemetry."</p>
                    <div class="mono" style="font-size: 0.75rem; margin-top: 1rem; opacity: 0.6;"> STRATEGIC OPERATIONS, [QSD]</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing (Refactored Layout) -->
    <section id="pricing">
        <div class="container">
            <h2 class="mono">Pricing Model</h2>
            <p>Pricing scales with your footprint and operating day.
                <span class="mono" style="color: var(--fg-secondary); display:block; margin-top:0.5rem; font-size:0.75rem;">
                Total = Base Fee + (Hours  Hourly Rate) + (Stores  Location Rate)
                </span>
            </p>

            <div class="pricing-layout">
                <!-- Rates Panel Column (Left) -->
                <div class="pricing-column-left">
                    <!-- Rates Panel -->
                    <div class="pricing-panel pricing-panel-margin-fix" style="margin-bottom: 1.5rem;">
                        <div class="panel-header">Reference Rates (Current)</div>
                        <div class="pricing-row">
                            <div class="pricing-col-1">Base Project Fee</div>
                            <div class="pricing-leader"></div>
                            <div class="pricing-col-2" id="priceBase">3,500</div>
                        </div>
                        <div class="pricing-row">
                            <div class="pricing-col-1">Per Hour of Music</div>
                            <div class="pricing-leader"></div>
                            <div class="pricing-col-2" id="pricePerHour">250</div>
                        </div>
                        <div class="pricing-row">
                            <div class="pricing-col-1">Per Store / Location</div>
                            <div class="pricing-leader"></div>
                            <div class="pricing-col-2" id="pricePerStore">500</div>
                        </div>
                    </div>

                    <!-- Comparison / Efficiency Box -->
                    <div class="pricing-panel efficiency-box">
                        <div class="mono" style="font-size: 0.75rem; color: var(--fg-secondary); margin-bottom: 1rem; opacity:0.8;">CAPITAL EFFICIENCY</div>
                        
                        <!-- Updated to class-based .efficiency-row for mobile stacking -->
                        <div class="efficiency-row">
                            <span>Other Services</span>
                            <span class="mono" style="color: var(--accent-alert);">
                                $35-70 / month per store
                            </span>
                        </div>
                        
                        <div class="efficiency-row" style="margin-bottom: 1.5rem;">
                            <span style="color: var(--fg-primary);">Sonare Architecture</span>
                            <span class="mono" style="color: var(--accent-cyan);">
                                One-time Fee
                            </span>
                        </div>

                        <p style="font-size: 0.8rem; line-height: 1.5; color: var(--fg-secondary); margin: 0; border-top:1px solid var(--border); padding-top:1rem;">
                            <strong style="color:var(--fg-primary); display:block; margin-bottom:0.25rem;">Asset Sovereignty Protocol:</strong>
                            You own the audio files. No DRM. No cloud tethering.<br><b>No recurring fees!</b>
                        </p>
                    </div>
                </div>

                <!-- Calculator Panel (Right) -->
                <div class="pricing-panel">
                    <div class="panel-header" style="color:var(--fg-primary);">Estimate Calculator</div>
                    <div class="calculator-body">
                        <div style="margin-bottom: 1.5rem;">
                            <label class="mono" style="display:block; margin-bottom: 8px;">Operating Hours: <span id="hours-display" class="accent">10</span>h</label>
                            <input type="range" id="hours-input" min="4" max="24" value="10" step="1">
                            <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: var(--fg-secondary);">
                                <span>4h</span>
                                <span>24h</span>
                            </div>
                        </div>

                        <div style="margin-bottom: 2rem;">
                            <label class="mono" style="display:block; margin-bottom: 8px;">Locations: <span id="stores-display" class="accent">1</span></label>
                            <input type="range" id="stores-input" min="1" max="50" value="1" step="1">
                             <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: var(--fg-secondary);">
                                <span>1</span>
                                <span>50+</span>
                            </div>
                        </div>

                        <div style="border-top: 1px solid var(--border); padding-top: 1.5rem;">
                             <span class="mono" style="display:block; color:var(--fg-secondary); font-size:0.75rem; margin-bottom:0.5rem;">ESTIMATED TOTAL</span>
                             <div style="font-size: 1.75rem; color: var(--accent-cyan); font-family: var(--font-mono);" id="priceEstimate">
                                 TBD
                             </div>
                             <p class="mono" style="font-size: 0.7rem; margin-top: 10px; color: var(--fg-secondary);">
                                * Final quote confirmed during audit.
                            </p>
                        </div>
                        
                        <button class="primary" style="width:100%; margin-top:1rem;" onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})">Request This Quote</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section id="contact">
        <div class="container" style="max-width: 600px;">
            <h2 class="mono">Initialize Project</h2>
            <p>Submit your sound audit request. We will review your palette inputs and estimated scale.</p>
            
            <form id="contact-form" style="margin-top: 3rem;">
                <input type="hidden" id="form-palette" name="palette">
                <!-- New Hidden Inputs for Pricing Logic -->
                <input type="hidden" id="form-hours" name="hours_est">
                <input type="hidden" id="form-stores" name="store_count">
                
                <div class="grid-2" style="gap: 1.25rem;">
                    <!-- 5) CLIENT-SIDE VALIDATION: Inline error states handled by required attr -->
                    <input type="text" id="name" placeholder="Name" required aria-label="Name">
                    <input type="text" id="business" placeholder="Business Name" required aria-label="Business Name">
                </div>
                
                <div class="grid-2" style="gap: 1.25rem;">
                    <select id="playback" required style="background:var(--bg-input); color:var(--fg-secondary);" aria-label="Playback System">
                        <option value="" disabled selected>Playback System</option>
                        <option value="Sonos">Sonos / Wireless</option>
                        <option value="Spotify">Spotify Business</option>
                        <option value="PC">Dedicated PC/Mac</option>
                        <option value="USB">Dumb Player (USB)</option>
                        <option value="Other">Other / Unsure</option>
                    </select>
                    <input type="email" id="email" placeholder="Email Address" required aria-label="Email Address">
                </div>

                <textarea id="msg" rows="3" placeholder="Anything else we should know?" aria-label="Message"></textarea>
                
                <div style="background: var(--bg-input); padding: 1rem; border: 1px solid var(--border); font-size: 0.8rem; color: var(--fg-secondary);">
                    <span class="mono" style="color:var(--accent-cyan);">Transmitting Context:</span><br>
                    Palette: <span id="ctx-palette">None</span><br>
                    Scale: <span id="ctx-scale">10h / 1 Store</span>
                </div>

                <button type="submit" class="primary" style="width: 100%;">Book Sound Audit</button>
            </form>
            <div id="form-status" style="margin-top: 1rem; font-family: var(--font-mono); font-size: 0.85rem;"></div>
        </div>
    </section>

    <footer>
        <div class="container" style="padding: 4rem 0; display: flex; justify-content: space-between; border-top: 1px solid var(--border);">
            <div class="mono">
                <span style="display:block; margin-bottom:0.5rem;"> 2026 sonare.media</span>
                <span class="legal-link" onclick="openLegal('privacy')">Privacy</span> / 
                <span class="legal-link" onclick="openLegal('terms')">Terms</span> / 
                <span class="legal-link" onclick="openLegal('cookies')">Cookies</span>
            </div>
            <span class="mono">System Status: Online</span>
        </div>
    </footer>

    <!-- COOKIE BANNER -->
    <div id="cookie-banner" class="cookie-banner">
        <div class="cookie-content">
            <strong style="color:var(--accent-cyan);">COMPLIANCE NOTICE:</strong>
            <!-- 6) COPY TRUTHFULNESS: Banner matches stored data behavior -->
            We store consent state; optional preferences (palette, calculator inputs) may be stored locally to preserve your session.
        </div>
        <div class="cookie-actions">
            <button id="btn-accept-cookies" style="padding: 8px 16px; font-size: 0.75rem;">ACKNOWLEDGE</button>
        </div>
    </div>

    <!-- LEGAL MODAL -->
    <div id="legal-overlay" class="legal-overlay">
        <!-- 3) ACCESSIBILITY: Aria-modal and role dialog -->
        <div class="legal-modal" role="dialog" aria-modal="true" aria-labelledby="legal-title">
            <div class="legal-header">
                <span class="mono" id="legal-title" style="color:var(--accent-cyan);">LEGAL PROTOCOLS</span>
                <button class="close-btn" onclick="closeLegal()" aria-label="Close Modal"></button>
            </div>
            <div class="legal-body" id="legal-content">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <!-- 6) STATUS LINE (Bottom Right) -->
    <div id="global-status">SYSTEM READY</div>

    <script>
        // --- 10) SECURITY: Basic Sanitization Helper ---
        function escapeHtml(text) {
            if (!text) return text;
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // --- DATA & CONFIG ---
        const SELECTION = {
            'Calm': { name: 'First Light Drift', desc: 'Minimal ambient textures with high focus retention. Ideal for bookshops, spas, and high-end galleries.' },
            'Warm': { name: 'Analog Hearth', desc: 'Acoustic warmth, soft jazz guitar, and neo-soul textures. Welcoming and intimate.' },
            'Modern': { name: 'Throughput Pulse', desc: 'Downtempo electronic and minimal house. Clean, efficient, forward-thinking.' },
            'Upbeat': { name: 'Kinetic Retail', desc: 'Nu-disco and indie dance influence. Keeps energy high without aggression.' },
            'Premium': { name: 'Velvet Lounge', desc: 'Cinematic minimal and modern jazz. Sophisticated background for luxury items.' },
            'Playful': { name: 'Bright Motif', desc: 'Light funk, upbeat lo-fi, and clean rhythmic pop instrumentals. Smile-inducing.' }
        };

        // --- NEW PRICING LOGIC ---
        // Set these to numbers (e.g., 850, 75, 35) when you are ready to reveal prices.
        const PRICING = {
            base_fee: 3500,  // e.g. 850
            per_hour: 250,   // e.g. 75
            per_store: 500   // e.g. 200
        };

        const fmt = (n) => {
            if (n === null || n === undefined) return "TBD";
            return new Intl.NumberFormat('en-US', { style: "currency", currency: "USD" }).format(n);
        };

        // --- LEGAL CONTENT REPOSITORY ---
        const LEGAL_DOCS = {
            'privacy': `
                <h3>01 // Data Collection Protocol</h3>
                <p>We collect only the essential data points required to execute a Sound Audit: Name, Email Address, Business Identity, and Operational Metrics. This data is transmitted securely and is never sold.</p>
                <h3>02 // Data Retention</h3>
                <p>Client data is retained for the duration of the project lifecycle. Upon completion, sensitive operational data is purged unless a maintenance retainer is active.</p>
            `,
            'terms': `
                <h3>01 // Asset Sovereignty</h3>
                <p>Upon full payment, the Client receives a perpetual, non-exclusive license to utilize the curated playlist architecture. You own the files for playback purposes.</p>
                <h3>02 // Licensing Responsibility</h3>
                <p>Sonare provides the "Architectural Curation." The Client is responsible for maintaining necessary public performance licenses (PROs) required by local jurisdiction.</p>
            `,
            'cookies': `
                <h3>01 // Local Storage</h3>
                <p>We use "Local Storage" to remember session preferences (palette, calculator). This is strictly functional.</p>
            `
        };

        // --- STATE ---
        let userAnswers = {};
        
        // --- GLOBAL STATUS UPDATE HELPER ---
        function updateGlobalStatus(msg) {
            const el = document.getElementById('global-status');
            el.style.opacity = '0';
            setTimeout(() => {
                el.innerText = msg;
                el.style.opacity = '0.6';
            }, 300);
        }
        
        // --- MOBILE MENU LOGIC ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const toggle = document.querySelector('.mobile-toggle');
            menu.classList.toggle('active');
            toggle.classList.toggle('open');
        }

        // --- NAV HIGHLIGHT LOGIC ---
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            const scrollY = window.scrollY;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.nav-links a').forEach(a => {
                a.classList.remove('active');
                if (a.getAttribute('href').includes(current)) {
                    a.classList.add('active');
                }
            });
        });

        // --- GRAPH SWITCHING LOGIC ---
        function switchGraph(view) {
            // 2) ACCESSIBILITY: Update aria-pressed
            const buttons = document.querySelectorAll('.graph-controls .toggle-pill');
            buttons.forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-pressed', 'false');
            });

            const activeBtn = document.getElementById('btn-graph-' + view);
            if(activeBtn) {
                activeBtn.classList.add('active');
                activeBtn.setAttribute('aria-pressed', 'true');
            }

            // Update Graph Layers
            const layers = document.querySelectorAll('.graph-layer');
            layers.forEach(l => l.classList.add('graph-hidden'));
            
            document.getElementById('view-' + view).classList.remove('graph-hidden');

            // Update Label
            const label = document.getElementById('y-axis-label');
            if (view === 'energy') label.innerText = "ENERGY / INTENSITY";
            if (view === 'vocals') label.innerText = "LYRICAL DENSITY";
            if (view === 'beacons') label.innerText = "IDENTITY EVENTS";
            
            // 6) STATUS: Update Global Status
            updateGlobalStatus(`GRAPH VIEW: ${view.toUpperCase()}`);
        }

        // --- QUESTIONNAIRE LOGIC ---
        function selectOption(e, category, value) {
            userAnswers[category] = value;
            updateGlobalStatus(`PALETTE: ${category.toUpperCase()} SET TO ${value.toUpperCase()}`);
            
            // Navigate
            const steps = ['q1', 'q2', 'q3', 'q4', 'q-result'];
            let currentIdx = -1;
            
            if (category === 'vibe') currentIdx = 0;
            if (category === 'energy') currentIdx = 1;
            if (category === 'texture') currentIdx = 2;
            if (category === 'vocals') currentIdx = 3;

            if (currentIdx > -1 && currentIdx < 4) {
                const currentStep = document.getElementById(steps[currentIdx]);
                
                // Show sticky nav on mobile when quiz starts
                document.body.classList.add('quiz-active');
                document.getElementById('quiz-progress').innerText = `STEP 0${currentIdx + 2}/05`;
                
                const buttons = currentStep.querySelectorAll('button');
                buttons.forEach(b => b.classList.remove('selected'));
                e.target.classList.add('selected');

                setTimeout(() => {
                    currentStep.classList.remove('active');
                    document.getElementById(steps[currentIdx + 1]).classList.add('active');
                    if (currentIdx === 3) generateResult();
                }, 300);
            }
        }

        function generateResult() {
            let paletteKey = userAnswers.vibe || 'Modern'; 
            if (paletteKey === 'Calm' && userAnswers.texture === 'Organic') paletteKey = 'Warm';
            if (paletteKey === 'Upbeat' && userAnswers.texture === 'Electronic') paletteKey = 'Modern';

            const result = SELECTION[paletteKey] || SELECTION['Modern'];
            
            // Hide sticky nav on result
            document.body.classList.remove('quiz-active');
            updateGlobalStatus(`RESULT GENERATED: ${result.name.toUpperCase()}`);

            // 10) SECURITY: Escape output before rendering
            document.getElementById('res-name').innerText = result.name; 
            document.getElementById('res-desc').innerText = `Based on your need for ${escapeHtml(userAnswers.vibe)} vibes and ${escapeHtml(userAnswers.energy)} energy.`;
            
            // Context updates for Form
            document.getElementById('form-palette').value = `${result.name} (${paletteKey})`;
            document.getElementById('ctx-palette').innerText = `${result.name}`;

            // --- BUILD PREVIEW CARDS (NEW) ---
            const phases = [
                { name: "OPEN", title: "First Light" },
                { name: "PEAK", title: "Core Flow" },
                { name: "OFF-PEAK", title: "Drift State" },
                { name: "CLOSE", title: "Last Call" }
            ];

            const gridHTML = phases.map(phase => `
                <div class="preview-card">
                    <div>
                        <div class="mono" style="font-size:0.7rem; color:var(--accent-cyan); margin-bottom:0.25rem;">${phase.name}</div>
                        <h3 style="font-size:1rem; margin-top:0; margin-bottom:0;">${phase.title}</h3>
                        <div class="wave-skeleton" aria-hidden="true"></div>
                    </div>
                    <div>
                        <button class="audio-btn" data-src="" disabled aria-disabled="true">
                            <span> Preview</span>
                            <span class="mono" style="font-size:0.65rem; opacity:0.6;">(SOON)</span>
                        </button>
                    </div>
                </div>
            `).join('');

            document.getElementById('res-preview-grid').innerHTML = gridHTML;
        }

        function resetQuiz() {
            userAnswers = {};
            document.querySelectorAll('.quiz-step').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.option-btn').forEach(el => el.classList.remove('selected'));
            document.getElementById('q1').classList.add('active');
            document.body.classList.remove('quiz-active');
        }

        // --- PRICING LOGIC (Refactored) ---
        function updatePricingUI() {
            const hours = parseInt(document.getElementById('hours-input').value);
            const stores = parseInt(document.getElementById('stores-input').value);

            // Update UI Labels
            document.getElementById('hours-display').innerText = hours;
            document.getElementById('stores-display').innerText = stores;
            
            // 6) STATUS: Context feedback
            // Debounce/throttle logic could be added here for production, simple text update for now
            // updateGlobalStatus(`CALCULATOR: ${hours}H / ${stores} LOC`);
            
            // Update Context Box in Contact Form
            document.getElementById('ctx-scale').innerText = `${hours}h / ${stores} Store(s)`;
            document.getElementById('form-hours').value = hours;
            document.getElementById('form-stores').value = stores;

            // Update Rates Table
            document.getElementById('priceBase').textContent = fmt(PRICING.base_fee);
            document.getElementById('pricePerHour').textContent = fmt(PRICING.per_hour);
            document.getElementById('pricePerStore').textContent = fmt(PRICING.per_store);

            // Calculate Estimate
            const anyTBD = [PRICING.base_fee, PRICING.per_hour, PRICING.per_store].some(v => v === null);
            const estEl = document.getElementById("priceEstimate");

            if (anyTBD) {
                estEl.textContent = "TBD";
                estEl.style.color = "var(--fg-secondary)";
                return;
            }

            const estimate = PRICING.base_fee + (hours * PRICING.per_hour) + (stores * PRICING.per_store);
            estEl.textContent = fmt(estimate);
            estEl.style.color = "var(--accent-cyan)";
        }

        // --- CONTACT LOGIC (HARDENED) ---
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button[type="submit"]');
            const status = document.getElementById('form-status');
            
            // 5) CLIENT-SIDE VALIDATION: Prevent duplicates
            if (btn.disabled) return;
            btn.innerText = "Transmitting...";
            btn.disabled = true;

            // 4) INCLUDE MESSAGE IN PAYLOAD
            const data = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                business: document.getElementById('business').value,
                system: document.getElementById('playback').value,
                message: document.getElementById('msg').value, // Added
                // Hidden Context fields
                palette: document.getElementById('form-palette').value || "Not generated",
                hours_est: document.getElementById('form-hours').value,
                store_count: document.getElementById('form-stores').value
            };

            fetch('/api/lead', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.ok) {
                    status.innerText = "> TRANSMISSION SUCCESSFUL.";
                    status.style.color = "var(--accent-cyan)";
                    btn.innerText = "Sent";
                    updateGlobalStatus("TRANSMISSION CONFIRMED");
                    e.target.reset();
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                status.innerText = "> TRANSMISSION FAILED. TRY AGAIN.";
                status.style.color = "var(--accent-alert)";
                btn.innerText = "Retry";
                btn.disabled = false;
            });
        });

        // --- LEGAL & COOKIE LOGIC (HARDENED) ---
        
        function openLegal(type) {
            const overlay = document.getElementById('legal-overlay');
            const title = document.getElementById('legal-title');
            const content = document.getElementById('legal-content');
            
            if(type === 'privacy') title.innerText = "PRIVACY PROTOCOLS";
            if(type === 'terms') title.innerText = "TERMS OF USE";
            if(type === 'cookies') title.innerText = "COOKIE POLICY";
            
            content.innerHTML = LEGAL_DOCS[type];
            overlay.classList.add('open');
            
            // 3) ACCESSIBILITY: Focus management
            document.querySelector('.close-btn').focus();
        }

        function closeLegal() {
            document.getElementById('legal-overlay').classList.remove('open');
        }

        // 3) ACCESSIBILITY: Escape Key Support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeLegal();
            }
        });
        
        // 3) ACCESSIBILITY: Click Outside Support
        document.getElementById('legal-overlay').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                closeLegal();
            }
        });

        // --- INIT ---
        document.addEventListener("DOMContentLoaded", () => {
            document.getElementById('hours-input').addEventListener('input', updatePricingUI);
            document.getElementById('stores-input').addEventListener('input', updatePricingUI);
            updatePricingUI();

            // Safe Cookie Banner logic
            const btnAccept = document.getElementById('btn-accept-cookies');
            if(btnAccept) {
                btnAccept.addEventListener('click', () => {
                    try {
                        localStorage.setItem('sonare_consent', 'true');
                    } catch (e) {
                        console.warn("Storage restricted.");
                    }
                    document.getElementById('cookie-banner').classList.remove('active');
                });
            }

            // Check Consent State
            let hasConsent = false;
            try {
                hasConsent = localStorage.getItem('sonare_consent');
            } catch(e) {}

            if (!hasConsent) {
                setTimeout(() => {
                    const banner = document.getElementById('cookie-banner');
                    if(banner) banner.classList.add('active');
                }, 1000);
            }
        });

    </script>
</body>
</html>